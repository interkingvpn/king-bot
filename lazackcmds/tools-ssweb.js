import fetch from 'node-fetch'

let handler = async (m, { conn, command, args }) => {
    // Verificar si el usuario proporcion칩 un enlace
    if (!args[0]) 
        return conn.reply(m.chat, `${emoji} Por favor proporciona un enlace de p치gina web.`, m)

    try {
        // Reaccionar con emoji de espera
        await m.react(rwait)

        // Notificar al usuario que se est치 obteniendo la informaci칩n
        conn.reply(m.chat, `${emoji2} Obteniendo la informaci칩n de la p치gina web...`, m)

        // Captura de pantalla de la p치gina completa usando thum.io
        let screenshot = await (await fetch(`https://image.thum.io/get/fullpage/${args[0]}`)).buffer()

        // Enviar la captura de pantalla
        conn.sendFile(m.chat, screenshot, 'captura.png', `游댕 ${args[0]}`, m)

        // Reaccionar con emoji de done
        await m.react(done)

    } catch {
        // Manejo de errores
        await m.react(error)
        return conn.reply(m.chat, `${msm} Ocurri칩 un error al obtener la p치gina.`, m)
    }
}

handler.help = ['ssweb <url>', 'ss <url>']
handler.tags = ['herramientas']
handler.command = ['ssweb', 'ss']

export default handler